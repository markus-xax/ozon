import{ay as B,az as I,_ as P,aA as T,o as u,a as y,w as s,c as o,aB as Q,a7 as A,b as g,aC as q,aD as t,T as U,aE as D,aF as h,g as j,t as i,af as x,aG as X,aH as K,ai as M,e as r,aI as E,aJ as H,aK as O,V as Y,aL as C,aM as Z,aN as tt,aO as N,aP as et,aQ as S,aR as v,aS as b,aT as st}from"./index.js";import{V as ot,a as F,b as z,c as V,d as R,S as at,D as lt,e as W,f as w}from"./VTooltip.js";import{d as G,a as f,V as L,f as J,e as nt}from"./VTextField.js";const it={name:"DialogSeoProjectSkuAdd",data:()=>({dialog:!1,projectKeywordsText:"",projectUrl:"",notification:!1,phrases:[],notificationMessage:"",projectName:""}),computed:{keywords(){return[...this.words,...this.phrases]},usedLimit(){return this.limits.use+this.phrases.length},hasLimit(){return this.usedLimit<=this.limits.available},...B(T,["sku","limits","words"])},methods:{async addSkuToProject(){let e=this.$route.params.id;e||(e=await this.createProject(this.projectName).then(l=>{if(l.data.status===201)return l.data.result.id}));let a=[];this.phrases.map(l=>{a.push(l.word)}),await this.addSku(e,{words:a,sku:this.sku.sku}).then(l=>{if(console.log(l),l.data.status===201){this.notification=!0,this.notificationMessage="\u041F\u0440\u043E\u0435\u043A\u0442 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D";let m=this;this.fetchProjects(),setTimeout(()=>{m.dialog=!1},1e3)}})},uploaderClick(){this.$refs.uploader.click()},deleteWord(e){const a=this.phrases.findIndex((l,m)=>e.word===l.word);this.phrases.splice(a,1)},clearSku(){this.resetSku(),this.projectUrl="",this.$nextTick(()=>{this.$refs.sku.focus()})},deletePhrases(){this.phrases=[]},addWords(){const e=this.projectKeywordsText.split(/\r?\n|\r|\n/g);let a=[];this.phrases.map(p=>{a.push(p.word)});let l=[],m=[...a];e.map(p=>{p=p.trim(),p&&m.indexOf(p)<0&&(l.push({word:p}),m.push(p))}),this.phrases=[...this.phrases,...l]},async seekBySku(){const e=this.projectUrl.match(/\d+/);if(e)try{await this.searchSku(e.pop()).then(async a=>{const{data:l,status:m,code:p,message:d}=a;if(p&&(this.notification=!0,this.notificationMessage=d,setTimeout(()=>{this.notification=!1,this.notificationMessage=""},1e3)),m===200){let n=[];this.sku.words&&this.sku.words.forEach(_=>{n.push(_.word)}),n.length&&(this.projectKeywordsText=n.join(`\r
`))}}).catch(a=>{console.log(a)})}catch(a){console.log("error",a)}},...I(T,["fetchProjects","setFilterByName","searchSku","resetSku","fetchLimits","fetchWords","addSku","createProject"])},watch:{dialog(e,a){e&&(this.fetchLimits(),this.resetSku(),this.projectUrl="")}}},k=e=>(H("data-v-a55babad"),e=e(),O(),e),dt=k(()=>t("span",null,"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0430 \xAB\u041E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0437\u0438\u0446\u0438\u0439\xBB",-1)),ct={class:"d-flex mb-4 add-project-top"},rt=k(()=>t("label",{class:"project-name--label"},"\u0418\u043C\u044F \u043F\u0440\u043E\u0435\u043A\u0442\u0430",-1)),ut={key:0,class:"d-flex input-wrap-full"},_t={key:1,class:"sku-info d-flex justify-start"},ht={key:0,class:"sku-image"},pt=["src"],ft={class:"product-sku-info sku-data mb-5"},mt=k(()=>t("g",null,[t("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),t("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)),gt=[mt],kt=["textContent"],jt={class:"sku-seller"},vt=r(" \u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: "),bt=["href","textContent"],wt={class:"sku-brand"},yt=r(" \u0411\u0440\u0435\u043D\u0434: "),xt=["href","textContent"],Ct={class:"sku-sku"},Tt=r(" \u0410\u0440\u0442\u0438\u043A\u0443\u043B: "),St=["href","textContent"],$t={class:"mt-1 mb-0 v-row d-flex justify-space-between"},Pt={class:"d-flex justify-space-between bg-white top-col"},Vt=k(()=>t("p",{class:"controls-label"},"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A",-1)),Lt=r("mdi-file-excel"),It={type:"file",style:{display:"none"},accept:"text/csv",ref:"uploader"},Ut=r(" \u0418\u043C\u043F\u043E\u0440\u0442 \u0444\u0430\u0439\u043B\u0430 "),Dt=r("mdi-close"),Nt=r(" \u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C "),At=r(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C (Ctrl + Enter) "),Kt={class:"d-flex justify-space-between bg-white top-col"},Mt=k(()=>t("p",{class:"controls-label"},"\u041A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430 \u0432 \u0442\u043E\u0432\u0430\u0440\u043D\u043E\u0439 \u043F\u043E\u0437\u0438\u0446\u0438\u0438",-1)),Bt=r("mdi-close"),Ft=r(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 "),zt=["textContent"],Wt=["textContent"],Et=r("mdi-trash-can-outline"),Ht=k(()=>t("div",{class:"fill-height flex-row align-content-center"},[t("b",null,"\u041A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430"),t("br"),r("\u0435\u0449\u0435 \u043D\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u044B \u0414\u043B\u044F \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0432\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0442\u044C, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A. ")],-1)),Ot={class:"d-flex justify-space-between mt-3"},Rt=k(()=>t("span",null,"\u041A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430 \u0434\u043B\u044F \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u043D\u0438\u044F",-1)),Gt=["textContent"],Jt={class:"d-flex justify-space-between"},Qt=k(()=>t("span",null,"\u041E\u0431\u0449\u0435\u0435 \u0447\u0438\u0441\u043B\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0432 \u043F\u0440\u043E\u0435\u043A\u0442\u0430\u0445 / \u043B\u0438\u043C\u0438\u0442 \u043F\u043E \u0442\u0430\u0440\u0438\u0444\u0443",-1)),qt=["textContent"],Xt=r(" \u041F\u0440\u0435\u0432\u044B\u0448\u0435\u043D \u043B\u0438\u043C\u0438\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0445 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0434\u043B\u044F \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u043D\u0438\u044F. \u0427\u0442\u043E\u0431\u044B \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432, \u043E\u0444\u043E\u0440\u043C\u0438\u0442\u0435 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0443 \u043D\u0430 \u0431\u043E\u043B\u0435\u0435 \u0432\u044B\u0441\u043E\u043A\u0438\u0439 \u0442\u0430\u0440\u0438\u0444\u043D\u044B\u0439 \u043F\u043B\u0430\u043D. "),Yt=k(()=>t("a",{class:"bg-green text-white text-decoration-underline pa-2 rounded",href:"/i-need-more"},"\u041F\u0435\u0440\u0435\u0445\u043E\u0434 \u043D\u0430 \u043F\u043E\u0432\u044B\u0448\u0435\u043D\u043D\u044B\u0439 \u0442\u0430\u0440\u0438\u0444",-1)),Zt=r(" \u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 SKU \u043A \u043F\u0440\u043E\u0435\u043A\u0442\u0443 \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435 \u0435\u0433\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F. "),te=r(" \u0414\u0430\u043D\u043D\u044B\u0435 \u043F\u043E \u0442\u043E\u0432\u0430\u0440\u0443 \u0431\u0443\u0434\u0443\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 \u0434\u043D\u044F."),ee=k(()=>t("br",null,null,-1)),se=r(" \u0421\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u043F\u043E \u043F\u043E\u0437\u0438\u0446\u0438\u044F\u043C \u0431\u0443\u0434\u0443\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0441 \u0434\u0430\u0442\u044B \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0442\u043E\u0432\u0430\u0440\u0430 \u0432 \u0440\u0430\u0437\u0434\u0435\u043B. "),oe=r("\u041D\u0430\u0447\u0430\u0442\u044C \u0441\u0431\u043E\u0440 \u0434\u0430\u043D\u043D\u044B\u0445 ");function ae(e,a,l,m,p,d){return u(),y(R,{class:"big-dialog-popup",transition:"dialog-top-transition",width:"1140",modelValue:e.dialog,"onUpdate:modelValue":a[9]||(a[9]=n=>e.dialog=n),scrollable:""},{activator:s(({props:n})=>[o(g,A({flat:"",class:"btn-add","prepend-icon":"mdi-plus-box-outline",height:"30"},n,{onClick:a[0]||(a[0]=_=>e.dialog=!0)}),{default:s(()=>[Q(e.$slots,"default",{},void 0,!0)]),_:2},1040)]),default:s(()=>[o(L,null,{default:s(()=>[o(q,{color:"primary",class:"title-popup pl-4 pr-0 d-flex justify-space-between",dark:""},{default:s(()=>[dt,o(ot),o(g,{icon:"mdi-close",onClick:a[1]||(a[1]=n=>e.dialog=!1)})]),_:1}),o(G,null,{default:s(()=>[t("div",ct,[rt,U(t("input",{class:"project-name ml-5 pl-3 pr-3",width:"200",type:"text","onUpdate:modelValue":a[2]||(a[2]=n=>e.projectName=n)},null,512),[[D,e.projectName]])]),e.sku&&!e.sku.sku?(u(),h("div",ut,[U(t("input",{type:"text",class:"pl-3 pr-3",placeholder:"https://www.wildberries.ru/catalog/2389150/detail.aspx \u0438\u043B\u0438 2389150","onUpdate:modelValue":a[3]||(a[3]=n=>e.projectUrl=n),onChange:a[4]||(a[4]=(...n)=>d.seekBySku&&d.seekBySku(...n)),ref:"sku"},null,544),[[D,e.projectUrl]]),o(g,{icon:"mdi-keyboard-return"})])):(u(),h("div",_t,[e.sku.image&&e.sku.image.t?(u(),h("div",ht,[t("img",{src:e.sku.image.t,class:"mr-3",alt:"",style:{height:"105px"}},null,8,pt)])):j("",!0),t("div",ft,[(u(),h("svg",{onClick:a[5]||(a[5]=(...n)=>d.clearSku&&d.clearSku(...n)),viewBox:"0 0 16 16",width:"1em",height:"1em",focusable:"false",role:"img","aria-label":"x circle",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi-x-circle position-absolute cursor-pointer b-icon bi",style:{right:"0px","font-size":"150%"}},gt)),t("p",{class:"sku-name",textContent:i(e.sku.name)},null,8,kt),t("p",jt,[vt,t("a",{href:`/wb/seller?supplierId=${e.sku.supplierId}`,textContent:i(e.sku.seller)},null,8,bt)]),t("p",wt,[yt,t("a",{href:`/wb/brand?brand=${e.sku.brand}`,textContent:i(e.sku.brand)},null,8,xt)]),t("p",Ct,[Tt,t("a",{href:`/wb/item/${e.sku.sku}`,textContent:i(e.sku.sku)},null,8,St)])])])),t("div",$t,[o(f,{cols:"6"},{default:s(()=>[t("div",Pt,[Vt,o(F,null,{default:s(()=>[o(g,{class:"small-btn",onClick:d.uploaderClick},{default:s(()=>[o(x,null,{default:s(()=>[Lt]),_:1}),t("input",It,null,512),Ut]),_:1},8,["onClick"]),o(g,{class:"small-btn primary-color",onClick:a[6]||(a[6]=n=>e.projectKeywordsText="")},{default:s(()=>[o(x,null,{default:s(()=>[Dt]),_:1}),Nt]),_:1})]),_:1})]),o(L,{height:"250",class:"phrases-edit"},{default:s(()=>[U(t("textarea",{"onUpdate:modelValue":a[7]||(a[7]=n=>e.projectKeywordsText=n),placeholder:"\u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0444\u0440\u0430\u0437\u044B",class:"pa-3 mb-3 d-flex flex-grow-1",onKeydown:a[8]||(a[8]=X(E((...n)=>d.addWords&&d.addWords(...n),["ctrl"]),["enter"])),style:{resize:"none"}},`
              `,544),[[D,e.projectKeywordsText]]),o(g,{width:"100%",class:"bg-primary btn-primary-full",onClick:d.addWords},{default:s(()=>[At]),_:1},8,["onClick"])]),_:1})]),_:1}),o(f,{cols:"6"},{default:s(()=>[t("div",Kt,[Mt,o(F,null,{default:s(()=>[o(g,{class:"small-btn primary-color",onClick:d.deletePhrases},{default:s(()=>[o(x,null,{default:s(()=>[Bt]),_:1}),Ft]),_:1},8,["onClick"])]),_:1})]),o(L,{height:"250"},{default:s(()=>[e.phrases.length?(u(),y(z,{key:0,height:"100%",border:"1",class:"list_overflow pa-0"},{default:s(()=>[(u(!0),h(M,null,K(e.phrases,(n,_)=>(u(),h("div",{key:_,class:"d-flex align-center"},[t("span",{class:"mr-2",textContent:i(_+1)},null,8,zt),t("span",{class:"flex-grow-1",textContent:i(n.word)},null,8,Wt),o(g,{height:"20",onClick:$=>d.deleteWord(n)},{default:s(()=>[o(x,null,{default:s(()=>[Et]),_:1})]),_:2},1032,["onClick"])]))),128))]),_:1})):(u(),y(z,{key:1,height:"100%",class:"list_overflow pa-0"},{default:s(()=>[Ht]),_:1}))]),_:1}),t("p",Ot,[Rt,t("span",{textContent:i(e.phrases.length)},null,8,Gt)]),t("p",Jt,[Qt,t("span",{textContent:i(`${d.usedLimit} / ${e.limits.available}`)},null,8,qt)])]),_:1})]),d.hasLimit?j("",!0):(u(),y(V,{key:2,type:"info",class:"mb-7 bg-full"},{default:s(()=>[Xt,Yt]),_:1})),o(V,{type:"info",class:"mb-7"},{default:s(()=>[Zt]),_:1}),o(V,{type:"warning"},{default:s(()=>[te,ee,se]),_:1})]),_:1}),o(J,{class:"dialog-bottom text-center justify-center"},{default:s(()=>[o(g,{class:"bg-green text-white",disabled:!d.hasLimit||!e.sku.sku||!e.phrases.length,onClick:d.addSkuToProject},{default:s(()=>[oe]),_:1},8,["disabled","onClick"])]),_:1})]),_:1}),o(nt,{timeout:"300","model-value":e.notification},{default:s(()=>[r(i(e.notificationMessage),1)]),_:1},8,["model-value"])]),_:3},8,["modelValue"])}const le=P(it,[["render",ae],["__scopeId","data-v-a55babad"]]);const ne={name:"PositionTrackingToolbar",components:{DialogSeoProjectSkuAdd:le},data:()=>({dialogNew:!1,projectName:"",projectUrl:"",projectKeywordsText:"",projectKeywords:[]}),computed:{...B(T,["sku","limits"])},methods:{setFilter(e){this.setFilterByName(e.target.value)},async seekBySku(){const e=this.projectUrl.match(/\d+/);e&&await this.searchSku(e.pop()).then(async a=>{a&&await this.fetchWords(this.sku.sku).then(()=>{})})},hasLimit:()=>globalThis.limits.available<globalThis.limits.use,...I(T,["setFilterByName","searchSku","resetSku","fetchLimits","fetchWords"])},watch:{sku(){},dialogNew(e,a){e&&(this.fetchLimits(),this.resetSku(),this.projectUrl="")}}},ie=e=>(H("data-v-991e9a2d"),e=e(),O(),e),de={class:"mb-2 bg-white pa-4"},ce={class:"d-flex justify-space-between align-content-start"},re=ie(()=>t("div",{class:"card-header"},"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0440\u043E\u0435\u043A\u0442\u043E\u0432 \u0434\u043B\u044F \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u043D\u0438\u044F",-1)),ue=r("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u043E\u0435\u043A\u0442");function _e(e,a,l,m,p,d){const n=C("dialog-seo-project-sku-add");return u(),h("div",de,[t("div",ce,[re,o(f,null,{default:s(()=>[o(Y,{class:"justify-end"},{default:s(()=>[o(f,{class:"v-col search-container pa-0 justify-end d-flex pr-4",style:{width:"300px"}},{default:s(()=>[t("input",{type:"text",class:"form-control form-control-sm",onInput:a[0]||(a[0]=(..._)=>d.setFilter&&d.setFilter(..._)),width:"300",placeholder:"\u0421\u0442\u0440\u043E\u043A\u0430 \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430"},null,32)]),_:1}),o(n,null,{default:s(()=>[ue]),_:1})]),_:1})]),_:1})])])}const he=P(ne,[["render",_e],["__scopeId","data-v-991e9a2d"]]);const pe={name:"PositionProjectListItem",components:{SeoProjectForm:at,DialogSeoProjectDelete:lt},props:{project:{type:Object}},data:e=>({dialog:!1,deleteDialog:!1,name:e.project.name}),async mounted(){},methods:{setName(e){this.name=e.target.value},closeDelete(e){this.deleteDialog=e},onHover(){this.$el.classList.toggle("hover",!0)},onLeave(){this.$el.classList.toggle("hover",!1)},onClose(e){this.dialog=e},...I(T,["updateProject","fetchSkus"])}},fe={class:"card-header d-flex pb-0"},me=["textContent"],ge=r("mdi-pencil-outline"),ke=r("mdi-dots-vertical"),je=r("mdi-pencil-outline"),ve=r(" \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),be=r(" mdi-delete "),we=r(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0440\u043E\u0435\u043A\u0442"),ye=["textContent"],xe={class:"mb-1 d-flex justify-space-between"},Ce=["textContent"],Te=["textContent"],Se=t("span",null,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0432 \u0422\u041E\u041F1",-1),$e=["textContent"],Pe={class:"mb-1 d-flex justify-space-between"},Ve=["textContent"],Le=["textContent"],Ie=t("span",null,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0432 \u0422\u041E\u041F4",-1),Ue=["textContent"],De={class:"mb-1 d-flex justify-space-between"},Ne=["textContent"],Ae=["textContent"],Ke=t("span",null,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0432 \u0422\u041E\u041F12",-1),Me=["textContent"],Be={class:"mb-1 d-flex justify-space-between"},Fe=["textContent"],ze=["textContent"],We=t("span",null,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0432 \u0422\u041E\u041F100",-1),Ee=t("div",{class:"pt-1"},null,-1),He={class:"mb-1 d-flex justify-space-between"},Oe=["textContent"],Re=["textContent"],Ge=t("span",null,"\u0421\u0440\u0435\u0434\u043D\u0435\u0435 \u0430\u0440\u0438\u0444\u043C\u0435\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043F\u043E\u0437\u0438\u0446\u0438\u0439 \u0432\u0441\u0435\u0445 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432",-1),Je=t("div",{class:"pt-1"},null,-1),Qe={class:"mb-1 d-flex justify-space-between"},qe=["textContent"],Xe=["textContent"],Ye=t("span",null,"\u0421\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 \u0441 \u043F\u043E\u0437\u0438\u0446\u0438\u044F\u043C\u0438 / \u0432\u0441\u0435\u0433\u043E \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u0445 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432 (\u043F\u043E\u0437\u0438\u0446\u0438\u0438 \u0431\u044B\u043B\u0438 \u0441\u043D\u044F\u0442\u044B) \u0437\u0430 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u043F\u0435\u0440\u0438\u043E\u0434 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",-1),Ze=t("div",{class:"pt-1"},null,-1),ts={class:"mb-1 d-flex justify-space-between"},es=["textContent"],ss=t("div",{class:"diffvalue"},null,-1),os=t("span",null,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0432\u0441\u0435\u0445 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0445 \u0441\u043B\u043E\u0432, \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u0432 \u043F\u0440\u043E\u0435\u043A\u0442",-1),as=t("div",{class:"pt-1"},null,-1),ls={class:"mb-1 d-flex justify-space-between"},ns=["textContent"],is=t("span",null,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E SKU, \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u0432 \u043F\u0440\u043E\u0435\u043A\u0442",-1);function ds(e,a,l,m,p,d){const n=C("seo-project-form"),_=C("router-link"),$=C("dialog-seo-project-delete");return u(),y(L,{onMouseover:d.onHover,onMouseout:d.onLeave,class:"mb-6 pa-4"},{default:s(()=>[o(J,{class:"d-flex justify-space-between"},{default:s(()=>[t("div",fe,[o(_,{class:"project-link d-flex justify-space-between align-center",to:{name:"position-tracking-project-detail",params:{id:l.project.id}}},{default:s(()=>[t("h4",{class:"card-name",textContent:i(l.project.name)},null,8,me),o(R,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=c=>e.dialog=c),transition:"dialog-top-transition",width:"600"},{activator:s(({attrs:c})=>[o(x,A({size:"x-small",class:"pl-4"},c,{onClick:a[0]||(a[0]=E(ks=>e.dialog=!0,["self","prevent"]))}),{default:s(()=>[ge]),_:2},1040)]),default:s(()=>[o(n,{project:l.project,onInput:d.onClose},null,8,["project","onInput"])]),_:1},8,["modelValue"])]),_:1},8,["to"])]),o(Z,{location:"left"},{activator:s(({props:c})=>[o(g,A({width:"30",size:"small"},c),{default:s(()=>[o(x,null,{default:s(()=>[ke]),_:1})]),_:2},1040)]),default:s(()=>[o(tt,null,{default:s(()=>[o(N,null,{default:s(()=>[o(W,null,{default:s(()=>[o(g,{onClick:a[2]||(a[2]=c=>e.dialog=!0)},{default:s(()=>[o(x,{class:"mr-2"},{default:s(()=>[je]),_:1}),ve]),_:1})]),_:1})]),_:1}),o(N,null,{default:s(()=>[o(et)]),_:1}),o(N,null,{default:s(()=>[o(W,null,{default:s(()=>[o(g,{onClick:a[3]||(a[3]=c=>e.deleteDialog=!0)},{default:s(()=>[o(x,{class:"mr-2"},{default:s(()=>[be]),_:1}),we]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l.project?(u(),y(G,{key:0,class:"d-flex justify-end card-body"},{default:s(()=>[o(f,{cols:"1"},{default:s(()=>[t("div",{class:"pb-1",textContent:i(l.project.d0Top1+"%")},null,8,ye),t("div",xe,[t("div",{class:"value",textContent:i(l.project.d1Top1)},null,8,Ce),l.project.changeTop1!==0?(u(),h("div",{key:0,class:S(["diffvalue",{negative:l.project.changeTop1<0}]),textContent:i(l.project.changeTop1)},null,10,Te)):j("",!0)]),o(w,{location:"top",width:"200",color:"black",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"Top 1",16)]),default:s(()=>[Se]),_:1})]),_:1}),o(f,{cols:"1"},{default:s(()=>[t("div",{class:"pb-1",textContent:i(l.project.d0Top4+"%")},null,8,$e),t("div",Pe,[t("div",{class:"value",textContent:i(l.project.d1Top4)},null,8,Ve),l.project.changeTop4!==0?(u(),h("div",{key:0,class:S(["diffvalue",{negative:l.project.changeTop4<0}]),textContent:i(l.project.changeTop4)},null,10,Le)):j("",!0)]),o(w,{location:"top",width:"200",color:"black",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"Top 4",16)]),default:s(()=>[Ie]),_:1})]),_:1}),o(f,{cols:"1",class:"text-center"},{default:s(()=>[t("div",{class:"pb-1",textContent:i(l.project.d0Top12+"%")},null,8,Ue),t("div",De,[t("div",{class:"value",textContent:i(l.project.d1Top12)},null,8,Ne),l.project.changeTop12!==0?(u(),h("div",{key:0,class:S(["diffvalue",{negative:l.project.changeTop12<0}]),textContent:i(l.project.changeTop12)},null,10,Ae)):j("",!0)]),o(w,{location:"top",width:"200",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"Top 12",16)]),default:s(()=>[Ke]),_:1})]),_:1}),o(f,{cols:"1",class:"text-center"},{default:s(()=>[t("div",{class:"pb-1",textContent:i(l.project.d0Top100+"%")},null,8,Me),t("div",Be,[t("div",{class:"value",textContent:i(l.project.d1Top100)},null,8,Fe),l.project.changeTop100!==0?(u(),h("div",{key:0,class:S(["diffvalue",{negative:l.project.changeTop100<0}]),textContent:i(l.project.changeTop100)},null,10,ze)):j("",!0)]),o(w,{location:"top",width:"200",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"Top 100",16)]),default:s(()=>[We]),_:1})]),_:1}),o(f,{cols:"1",class:"text-center"},{default:s(()=>[Ee,t("div",He,[t("div",{class:"value",textContent:i(l.project.d0AvgPos)},null,8,Oe),l.project.changeAvgPos!==0?(u(),h("div",{key:0,class:S(["diffvalue",{negative:l.project.changeAvgPos<0}]),textContent:i(l.project.changeAvgPos)},null,10,Re)):j("",!0)]),o(w,{location:"top",width:"200",color:"black",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"\u0421\u0440 \u043F\u043E\u0437",16)]),default:s(()=>[Ge]),_:1})]),_:1}),o(f,{cols:"1",class:"text-center"},{default:s(()=>[Je,t("div",Qe,[t("div",{class:"value",textContent:i(l.project.d1FTotal)},null,8,qe),l.project.changeTotal!==0?(u(),h("div",{key:0,class:S(["diffvalue",{negative:l.project.changeTotal<0}]),textContent:i(l.project.changeTotal)},null,10,Xe)):j("",!0)]),o(w,{location:"top",width:"200",color:"black",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"\u0412\u0441\u0435\u0433\u043E",16)]),default:s(()=>[Ye]),_:1})]),_:1}),o(f,{cols:"1",class:"text-center"},{default:s(()=>[Ze,t("div",ts,[t("div",{class:"value",textContent:i(l.project.wordCount)},null,8,es),ss]),o(w,{location:"top",width:"200",color:"black",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"\u041A\u043B. \u0441\u043B\u043E\u0432",16)]),default:s(()=>[os]),_:1})]),_:1}),o(f,{cols:"1",class:"text-center"},{default:s(()=>[as,t("div",ls,[t("div",{class:"value",textContent:i(l.project.skuCount)},null,8,ns)]),o(w,{location:"top",width:"200",class:"text-center",color:"black",transition:"fade-transition"},{activator:s(({props:c})=>[t("span",v(b(c)),"SKU",16)]),default:s(()=>[is]),_:1})]),_:1})]),_:1})):j("",!0),o($,{dialog:e.deleteDialog,"project-name":l.project.name,id:l.project.id.toString(),onClose:d.closeDelete},null,8,["dialog","project-name","id","onClose"])]),_:1},8,["onMouseover","onMouseout"])}const cs=P(pe,[["render",ds]]),rs={name:"PositionProjectsList",components:{PositionProjectListItem:cs},data:()=>({loading:!0}),methods:{...I(T,["fetchProjects"])},computed:{projectsFiltered(){let e=this;return this.projects.filter(a=>e.filter.name?a.name.includes(e.filter.name):!0)},...B(T,["projects","filter"])},async mounted(){this.loading=!0,await this.fetchProjects().then(e=>{setTimeout(()=>{this.loading=!1},0)})}},us={class:"projects-list"};function _s(e,a,l,m,p,d){const n=C("position-project-list-item"),_=C("skeletor");return u(),h("div",us,[e.loading?(u(),h(M,{key:1},K(3,($,c)=>t("div",{key:c,class:"skeletor__card mb-5 bg-white pa-3 v-col"},[o(_,{class:"mb-3",width:"40%"}),o(_,{class:"mb-3",width:"65%"}),o(_,{class:"mb-3",width:"60%"}),o(_,{class:"mb-3",width:"60%"}),o(_,{class:"mb-3",width:"80%"}),o(_,{width:"30%"})])),64)):(u(!0),h(M,{key:0},K(d.projectsFiltered,($,c)=>(u(),y(n,{key:c,project:$},null,8,["project"]))),128))])}const hs=P(rs,[["render",_s]]);const ps={name:"Projects",components:{PositionTrackingToolbar:he,PositionProjectsList:hs},methods:{}},fs=t("b",null,"\u041E\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043D\u0438\u043C\u0430\u043D\u0438\u0435!",-1),ms=r(" \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u044F\u0442\u044C \u043D\u0435\u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u043D\u043E\u0435 \u043A\u043E\u043B-\u0432\u043E SKU \u0432 \u0440\u0430\u043C\u043A\u0430\u0445 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u0440\u043E\u0435\u043A\u0442\u0430.");function gs(e,a,l,m,p,d){const n=C("position-tracking-toolbar"),_=C("position-projects-list");return u(),y(st,{fluid:"",class:"pa-6"},{default:s(()=>[o(f,{md:"12",lg:"8",class:"pa-0"},{default:s(()=>[o(n),o(V,{type:"info",variant:"outlined",class:"bg-white mb-4"},{default:s(()=>[fs,ms]),_:1}),o(_)]),_:1})]),_:1})}const ws=P(ps,[["render",gs]]);export{ws as default};
